{% extends 'base.html.twig' %}

{% block content %}
    <div class="col-md-4 col-md-offset-4">
        {{ form_start(form) }}
        {{ form_widget(form) }}
        {{ form_end(form) }}

        <span onclick="fill()" class="btn btn-primary">Check BoardGameGeek</span>
    </div>
{% endblock content %}

{% block javascripts %}
    {{ parent() }}
    <script>
        function fill() {
            var bggId = $('#form_bgg_id').val();
            $.ajax({
                cache: false,
                type: "POST",
                dataType: "json",
                url: '{{ url('findGameByBggId') }}',
                data: {bggId: bggId},    // Dit is versturen van data naar de service!
                success: function (game) {
                    $('#form_name').val(game[0].name);
                }
            });

        }
    </script>
    {#<script>#}
    {#$(document).ready(function () {#}

    {#$.ajax({#}
    {#dataType: "json",#}
    {#url: '{{ url('findGameByBggId') }}',#}
    {#data: data,#}
    {#success: function(){#}
    {#alert("findGameByBggId success");#}
    {#}#}
    {#});#}

    {#});#}

    {#</script>#}
{% endblock javascripts %}